(function(){var p=window,d=p.bShareUtil,b=p.bShare,a=b.config,f=b.iL8n,A=b.bhost,w=b.whost,q=b.imageBasePath,B=[],C=["bsharesync","xinhuamb"],x=b.isLite?["bsharesync"]:"sinaminiblog,qqmb,renren,neteasemb,sohuminiblog,kaixin001,qzone,tianya,bsharesync".split(","),i=document,m=i.documentElement,n=i.body,y=Math.max,r=0,s=0,z=a.lang==="en",E=function(){var e=i.getElementById("bsPanelHolder");if(!e)e=i.createElement("div"),e.id="bsPanelHolder";var D=e;d.loadStyle("a.bsSiteLink{text-decoration:none;color:"+
a.poptxtc+";}a.bshareDiv{overflow:hidden;height:16px;line-height:18px;font-size:14px;color:#333;padding-left:0;}a.bshareDiv:hover{text-decoration:none;}div.bsTitle{padding:0 8px;border-bottom:1px solid #e8e8e8;color:"+a.poptxtc+";background:"+a.popbgc+";text-align:left;}a.bsSiteLink:hover{text-decoration:underline;}div.buzzButton{cursor:pointer;}div.bsRlogo,div.bsRlogoSel{width:68px;float:left;margin:0;padding:2px 0;}div.bsRlogo a,div.bsRlogoSel a{float:left;}div.bsLogo,div.bsLogoSel{float:left;width:111px;text-align:left;height:auto;padding:2px 4px;margin:2px 0;white-space:nowrap;overflow:hidden;}div.bsLogoSel,div.bsRlogoSel{border:1px solid #ddd;background:#f1f1f1;}div.bsLogo,div.bsRlogo{border:1px solid #fff;background:#fff;}div.bsLogo a,div.bsLogoSel a{display:block;height:16px;line-height:16px;padding:0 0 0 24px;text-decoration:none;float:left;overflow:hidden;}div.bsLogoSel a,div.bsRlogoSel a{color:#000;border:none;}div.bsLogo a,div.bsRlogo a{color:#666;border:none;}div.bsLogoLink{width:121px;overflow:hidden;background:#FFF;float:left;margin:3px 0;}#bsLogin{float:right;text-align:right;overflow:hidden;height:100%;}#bsPanel{position:absolute;z-index:100000000;font-size:12px;width:"+
(111*a.popHCol+(a.popHCol-1)*10+26+(d.isIe&&!d.isSt?6:0))+"px;background:url("+b.shost+"/frame/images/background-opaque-dark."+(d.isIe6?"gif":"png")+") !important;padding:6px !important;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;}div.bsClear{clear:both;height:0;line-height:0;font-size:0;overflow:hidden;}div.bsPopupAwd{background: url("+q+"/bshare_box_sprite2.gif) no-repeat top left;background-position:0 -624px;width:18px;padding-left:3px;text-align:center;float:left;margin-left: 2px;height:15px;font-size:12px;color:#fff;overflow:hidden;}div.bsRlogo .bsPopupAwd,div.bsRlogoSel .bsPopupAwd{float:left;margin:5px 0px 0px -14px;}");
var j;j='<div class="bsTitle"><a style="float:left;height:20px;line-height:20px;font-weight:bold;" class="bsSiteLink" target="_blank" href="'+w+'/intro">'+f.shareText+'...</a><a class="bsSiteLink" style="cursor:pointer;float:right;height:20px;line-height:20px;font-weight:bold;" onclick="document.getElementById(\'bsPanel\').style.display=\'none\';">X</a><div class="bsClear"></div></div><div class="bsClear"></div>';var g="",o,h,c,t,k;if(a.popHCol==2){g+='<div style="height:47px;border-bottom:1px #ccc solid;padding:4px 0 4px 16px;margin-right:8px;_padding-left:12px;">';
for(h=0;h<3&&h<a.bps.length;h++)c=a.bps[h],b.pnMap[c]!==void 0&&(k=!!b.params.promote&&!z&&d.hasElem(x,c),g+='<div class="bsRlogo" onmouseover="javascript:this.className=\'bsRlogoSel\'" onmouseout="javascript:this.className=\'bsRlogo\'"><a href="javascript:void(0);" onclick="javascript:bShare.share(event,\''+c+'\');return false;" style="text-decoration:none;line-height:120%;"><div style="cursor:pointer;width:24px;height:24px;margin:0 18px 2px;background:url('+q+"/logos/m2/"+c+'.gif) no-repeat;"></div><div style="cursor:pointer;text-align:center;width:60px;height:16px !important;overflow:hidden;color:inherit;white-space:nowrap;line-height:120% !important;">'+
b.pnMap[c][0]+"</div></a>"+(k?'<div class="bsPopupAwd">'+f.promoteShort+"</div>":"")+"</div>");g+="</div>"}var u=[],m,v,n;for(c=0;c<a.popHCol;c++)u.push("<div class='bsLogoLink'>");m=a.popHCol<2&&a.bps.length>6?6:a.bps.length;for(h=0,o=a.popHCol==2?3:0;o<m;o++)c=a.bps[o],b.pnMap[c]!==void 0&&(t=b.pnMap[c][0],v=b.pnMap[c][1]*-18,k=!!b.params.promote&&!z&&d.hasElem(x,c),n=(d.hasElem(B,c)?"font-weight: bold;":"")+(d.hasElem(C,c)?"color: red;":"")+(k?"width:48px;":""),u[h%a.popHCol]+='<div class="bsLogo" onmouseover="javascript:this.className=\'bsLogoSel\'" onmouseout="javascript:this.className=\'bsLogo\'"><a href="javascript:void(0);" title="'+
t+'" onclick="javascript:bShare.share(event,\''+c+'\');return false;" style="'+n+"background:url("+q+(v?"/slogos_sprite8."+(d.isIe?"gif":"png")+") no-repeat 0 "+v+'px;">':"/logos/s4/"+c+(d.isIe?".gif":".png")+') no-repeat;">')+t+"</a>"+(k?'<div class="bsPopupAwd">'+f.promoteShort+"</div>":"")+"</div>",h++);r=116+26*Math.ceil(h/a.popHCol)-(a.popHCol!=2?56:0);s=a.popHCol*121+28;for(c=0;c<a.popHCol;c++)g+=u[c]+"</div>";g+="<div class='bsClear'></div>";c=0;for(var l in b.pnMap)b.pnMap.hasOwnProperty(l)&&
c++;l='<div style="height:20px;line-height:20px;padding:0 8px;border-top:1px solid #e8e8e8;color:'+a.poptxtc+";background:"+a.popbgc+';"><div class="buzzButton" style="float:left;">'+(a.popHCol==1?f.morePlatsShort:f.morePlats+' <font style="font-weight:normal;">('+c+")</font>")+'</div><div id="bsLogin" style="'+(a.popHCol<2?"width:80px;":"")+'">';a.logo&&(l+='<a class="bsSiteLink" href="'+w,l+=b.isLite?'" target="_blank"><span style="font-size:10px;vertical-align:bottom;line-height:24px;"><span style="color:#ff5c00;">b</span>Share</span></a>':
b.user?'/userProfile" title="'+b.user+'" target="_blank" style="width:120px;display:block;overflow:hidden;">'+b.user+"</a>":'/register" title="'+f.regTitle+'" target="_blank">'+f.register+'</a>&nbsp;&nbsp;<a class="bsSiteLink" title="'+f.loginTitle+'" target="_blank" href="'+A+"/loginAction?originalUrl="+p.location+'" onclick="bShare.more();">'+f.login+"</a>");l+="</div></div>";j=j+"<div style='padding-left:8px;background:#fff;*height:"+(26*Math.ceil(h/a.popHCol)+6+(a.popHCol==2?56:0))+"px;'>"+g+
"</div>"+l;D.innerHTML='<div id="bsPanel" style="display:none;">'+j+"</div>";i.body.appendChild(e);return e};b.ready=function(){E();var e=i.getElementById("bsPanel");b.timerId=0;b.hover=function(j){b.timerId!==0&&clearTimeout(b.timerId);var g=d.getElem(i,"a","bshareDiv")[j||0],e=d.getOffset(g).y,h=d.getOffset(g).x,c=g.offsetHeight,f=i.getElementById("bsPanel"),k=d.getWH().w;d.getWH();if(a.poph!=="right"&&(h+s>k||a.poph==="left"))h-=s-g.offsetWidth;f.style.left=h+"px";f.style.top=a.pop==2||a.pop!=
1&&e-{t:y(m.scrollTop,n.scrollTop),l:y(m.scrollLeft,n.scrollLeft)}.t+r+c>d.getWH().h?e-r-2+"px":e+c+2+"px";f.style.display="";b.prepare(j);b.click()};var f=function(d,g){a.pop===-2?d.onclick=function(){b.hover(g)}:(d.onmouseover=function(){b.hover(g)},d.onmouseout=function(){b.timerId=setTimeout(function(){e.style.display="none"},20)})};d.getElem(i,"a","bshareDiv",function(a,b){a.index=b;d.getElem(a,"div","buzzButton",function(a){f(a,b)})});d.getElem(e,"div","buzzButton",function(a,d){a.onclick=function(a){b.more(a,
d);return!1}});e.onmouseout=function(){b.timerId=setTimeout(function(){e.style.display="none"},0)};e.onmouseover=function(){b.timerId!==0&&clearTimeout(b.timerId)}};!a.bps||a.bps.length==0?setTimeout(function(){if(!a.bps||a.bps.length==0)a.bps="bsharesync,sinaminiblog,qqmb,renren,qzone,sohuminiblog,douban,kaixin001,baiduhi,qqxiaoyou,neteasemb,ifengmb,email,facebook,twitter,tianya,clipboard".split(","),b.ready()},2E3):b.ready()})();
